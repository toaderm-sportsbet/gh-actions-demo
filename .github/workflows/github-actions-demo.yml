name: GitHub Actions Demo

on:
  push:
    branches: [ main ]
    paths-ignore: [ .github/** ]
  pull_request:
    branches: [ main ]
  schedule:
    - cron: '15 6 * * 0'
  workflow_dispatch:

jobs:
  Build:
    runs-on: ubuntu-latest
    steps:
      - run: |
          echo "ðŸŽ‰ The job was triggered by event: ${{ github.event_name }}"
          echo "ðŸ”Ž The name of your branch is ${{ github.ref }} and your repository is ."

      - uses: actions/checkout@v3.3.0

      - name: Set up Go
        uses: actions/setup-go@v5.0.2
        with:
          # The Go version to download (if necessary) and use. Supports semver spec and ranges. Be sure to enclose this option in single quotation marks.
          go-version: # optional
          # Path to the go.mod or go.work file.
          go-version-file: # optional
          # Set this option to true if you want the action to always check for the latest available version that satisfies the version spec
          check-latest: # optional
          # Used to pull Go distributions from go-versions. Since there's a default, this is typically not supplied by the user. When running this action on github.com, the default value is sufficient. When running on GHES, you can pass a personal access token for github.com if you are experiencing rate limiting.
          token: ${{ github.server_url == 'https://github.com' && github.token || '' }} # optional
          # Used to specify whether caching is needed. Set to true, if you'd like to enable caching.
          cache: true # optional
          # Used to specify the path to a dependency file - go.sum
          cache-dependency-path: # optional
          # Target architecture for Go to use. Examples: x86, x64. Will use system architecture by default.
          architecture: # optional

      - name: List files in the repository
        run: |
          echo "The repository ${{ github.repository }} contains the following files:"
          tree
